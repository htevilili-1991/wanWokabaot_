import{c as ce,a as me,j as t,L as oe,H as fe}from"./app-BQpvbsYM.js";import{e as he,B as re}from"./app-logo-icon-DNdOGlss.js";import{a as pe,b as xe,c as _e,C as ue,d as ve}from"./card-B7YBDAfy.js";import{I as E}from"./input-BJnsw0Sr.js";import{L as B}from"./label-C9gNfmco.js";import{i as de,b as be,A as je}from"./app-layout-CknbTmax.js";import{A as ge}from"./arrow-left-DCUAaGaa.js";import{S as ye}from"./save-CccVxwHN.js";/* empty css            */import"./index-BHCUIMnc.js";import"./index-DzG82ypG.js";function Ae(){const e=ce.c(101);let H;e[0]===Symbol.for("react.memo_cache_sentinel")?(H={title:"Dashboard",href:he()},e[0]=H):H=e[0];let R;e[1]===Symbol.for("react.memo_cache_sentinel")?(R=[H,{title:"Dividends",href:de()},{title:"Create Period",href:""}],e[1]=R):R=e[1];const ne=R;let V;e[2]===Symbol.for("react.memo_cache_sentinel")?(V={name:"",start_date:"",end_date:"",total_profit:"",dividend_rate:"",notes:""},e[2]=V):V=e[2];const{data:s,setData:a,post:ie,processing:I,errors:i}=me(V);let z;e[3]!==ie?(z=l=>{l.preventDefault(),ie(be())},e[3]=ie,e[4]=z):z=e[4];const ae=z;let O;e[5]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(fe,{title:"Create Dividend Period"}),e[5]=O):O=e[5];let U,$;e[6]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("div",{className:"flex items-center gap-4",children:t.jsx(re,{variant:"ghost",size:"sm",asChild:!0,children:t.jsxs(oe,{href:de(),children:[t.jsx(ge,{className:"h-4 w-4 mr-2"}),"Back to Dividend Periods"]})})}),$=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Dividend Period"}),t.jsx("p",{className:"text-muted-foreground",children:"Set up a new dividend period to distribute profits to members based on their patronage."})]}),e[6]=U,e[7]=$):(U=e[6],$=e[7]);let G;e[8]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsxs(pe,{children:[t.jsx(xe,{children:"Dividend Period Details"}),t.jsx(_e,{children:"Configure the dividend period parameters and profit distribution settings."})]}),e[8]=G):G=e[8];let J;e[9]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(B,{htmlFor:"name",children:"Period Name"}),e[9]=J):J=e[9];let r;e[10]!==a?(r=l=>a("name",l.target.value),e[10]=a,e[11]=r):r=e[11];let d;e[12]!==s.name||e[13]!==r?(d=t.jsx(E,{id:"name",value:s.name,onChange:r,placeholder:"e.g., 2026 Dividend Period",required:!0}),e[12]=s.name,e[13]=r,e[14]=d):d=e[14];let o;e[15]!==i.name?(o=i.name&&t.jsx("p",{className:"text-sm text-red-600",children:i.name}),e[15]=i.name,e[16]=o):o=e[16];let n;e[17]!==d||e[18]!==o?(n=t.jsxs("div",{className:"space-y-2",children:[J,d,o]}),e[17]=d,e[18]=o,e[19]=n):n=e[19];let K;e[20]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(B,{htmlFor:"dividend_rate",children:"Dividend Rate (%)"}),e[20]=K):K=e[20];let c;e[21]!==a?(c=l=>a("dividend_rate",l.target.value),e[21]=a,e[22]=c):c=e[22];let m;e[23]!==s.dividend_rate||e[24]!==c?(m=t.jsx(E,{id:"dividend_rate",type:"number",step:"0.01",min:"0",max:"100",value:s.dividend_rate,onChange:c,placeholder:"5.00",required:!0}),e[23]=s.dividend_rate,e[24]=c,e[25]=m):m=e[25];let f;e[26]!==i.dividend_rate?(f=i.dividend_rate&&t.jsx("p",{className:"text-sm text-red-600",children:i.dividend_rate}),e[26]=i.dividend_rate,e[27]=f):f=e[27];let M;e[28]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentage of total profits to distribute as dividends"}),e[28]=M):M=e[28];let h;e[29]!==m||e[30]!==f?(h=t.jsxs("div",{className:"space-y-2",children:[K,m,f,M]}),e[29]=m,e[30]=f,e[31]=h):h=e[31];let p;e[32]!==n||e[33]!==h?(p=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n,h]}),e[32]=n,e[33]=h,e[34]=p):p=e[34];let Q;e[35]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(B,{htmlFor:"start_date",children:"Start Date"}),e[35]=Q):Q=e[35];let x;e[36]!==a?(x=l=>a("start_date",l.target.value),e[36]=a,e[37]=x):x=e[37];let _;e[38]!==s.start_date||e[39]!==x?(_=t.jsx(E,{id:"start_date",type:"date",value:s.start_date,onChange:x,required:!0}),e[38]=s.start_date,e[39]=x,e[40]=_):_=e[40];let u;e[41]!==i.start_date?(u=i.start_date&&t.jsx("p",{className:"text-sm text-red-600",children:i.start_date}),e[41]=i.start_date,e[42]=u):u=e[42];let v;e[43]!==_||e[44]!==u?(v=t.jsxs("div",{className:"space-y-2",children:[Q,_,u]}),e[43]=_,e[44]=u,e[45]=v):v=e[45];let W;e[46]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(B,{htmlFor:"end_date",children:"End Date"}),e[46]=W):W=e[46];let b;e[47]!==a?(b=l=>a("end_date",l.target.value),e[47]=a,e[48]=b):b=e[48];let j;e[49]!==s.end_date||e[50]!==b?(j=t.jsx(E,{id:"end_date",type:"date",value:s.end_date,onChange:b,required:!0}),e[49]=s.end_date,e[50]=b,e[51]=j):j=e[51];let g;e[52]!==i.end_date?(g=i.end_date&&t.jsx("p",{className:"text-sm text-red-600",children:i.end_date}),e[52]=i.end_date,e[53]=g):g=e[53];let y;e[54]!==j||e[55]!==g?(y=t.jsxs("div",{className:"space-y-2",children:[W,j,g]}),e[54]=j,e[55]=g,e[56]=y):y=e[56];let N;e[57]!==v||e[58]!==y?(N=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[v,y]}),e[57]=v,e[58]=y,e[59]=N):N=e[59];let X;e[60]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(B,{htmlFor:"total_profit",children:"Total Profit (VT)"}),e[60]=X):X=e[60];let C;e[61]!==a?(C=l=>a("total_profit",l.target.value),e[61]=a,e[62]=C):C=e[62];let S;e[63]!==s.total_profit||e[64]!==C?(S=t.jsx(E,{id:"total_profit",type:"number",step:"0.01",min:"0",value:s.total_profit,onChange:C,placeholder:"100000.00",required:!0}),e[63]=s.total_profit,e[64]=C,e[65]=S):S=e[65];let D;e[66]!==i.total_profit?(D=i.total_profit&&t.jsx("p",{className:"text-sm text-red-600",children:i.total_profit}),e[66]=i.total_profit,e[67]=D):D=e[67];let Y;e[68]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total profits available for dividend distribution"}),e[68]=Y):Y=e[68];let P;e[69]!==S||e[70]!==D?(P=t.jsxs("div",{className:"space-y-2",children:[X,S,D,Y]}),e[69]=S,e[70]=D,e[71]=P):P=e[71];let Z;e[72]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(B,{htmlFor:"notes",children:"Notes (Optional)"}),e[72]=Z):Z=e[72];let F;e[73]!==a?(F=l=>a("notes",l.target.value),e[73]=a,e[74]=F):F=e[74];let w;e[75]!==s.notes||e[76]!==F?(w=t.jsx("textarea",{id:"notes",name:"notes",value:s.notes,onChange:F,className:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Additional notes about this dividend period...",rows:3}),e[75]=s.notes,e[76]=F,e[77]=w):w=e[77];let L;e[78]!==i.notes?(L=i.notes&&t.jsx("p",{className:"text-sm text-red-600",children:i.notes}),e[78]=i.notes,e[79]=L):L=e[79];let T;e[80]!==w||e[81]!==L?(T=t.jsxs("div",{className:"space-y-2",children:[Z,w,L]}),e[80]=w,e[81]=L,e[82]=T):T=e[82];let k;e[83]!==s.dividend_rate||e[84]!==s.total_profit?(k=s.total_profit&&s.dividend_rate&&t.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-blue-900",children:"Dividend Preview"}),t.jsxs("p",{className:"text-sm text-blue-700",children:["Total available for dividends: VT ",(parseFloat(s.total_profit)*(parseFloat(s.dividend_rate)/100)).toLocaleString("en-VU",{minimumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-blue-600",children:"This amount will be distributed proportionally based on member purchases during the period."})]}),e[83]=s.dividend_rate,e[84]=s.total_profit,e[85]=k):k=e[85];let q;e[86]!==p||e[87]!==N||e[88]!==P||e[89]!==T||e[90]!==k?(q=t.jsxs(ue,{children:[G,t.jsxs(ve,{className:"space-y-6",children:[p,N,P,T,k]})]}),e[86]=p,e[87]=N,e[88]=P,e[89]=T,e[90]=k,e[91]=q):q=e[91];let ee;e[92]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(re,{variant:"outline",asChild:!0,children:t.jsx(oe,{href:de(),children:"Cancel"})}),e[92]=ee):ee=e[92];let te;e[93]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(ye,{className:"h-4 w-4 mr-2"}),e[93]=te):te=e[93];const le=I?"Creating...":"Create Dividend Period";let A;e[94]!==I||e[95]!==le?(A=t.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[ee,t.jsxs(re,{type:"submit",disabled:I,children:[te,le]})]}),e[94]=I,e[95]=le,e[96]=A):A=e[96];let se;return e[97]!==ae||e[98]!==q||e[99]!==A?(se=t.jsxs(je,{breadcrumbs:ne,children:[O,t.jsxs("div",{className:"space-y-6",children:[U,$,t.jsxs("form",{onSubmit:ae,children:[q,A]})]})]}),e[97]=ae,e[98]=q,e[99]=A,e[100]=se):se=e[100],se}export{Ae as default};
