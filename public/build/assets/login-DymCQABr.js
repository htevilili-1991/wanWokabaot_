import{c as E,a as g,j as e,F as S,H as _}from"./app-38lvqsZi.js";import{I as w}from"./input-error-DCLrKTbb.js";import{T as C}from"./text-link-B7Cw_Vle.js";import{c as F,q as P,B as q}from"./app-logo-icon-D3-YZjDB.js";import{C as z}from"./checkbox-Xu_BEi2N.js";import{I as y}from"./input-BAVwmEoI.js";import{L as b}from"./label-C6uE05tf.js";import{S as O}from"./spinner-BBzg4YzE.js";import{A as M}from"./auth-layout-Cb5ZZfFE.js";import{r as R}from"./index-BmwgMl33.js";import{M as H}from"./mail-B7CmCNZY.js";import{E as A}from"./eye-off-Cb4IZHXy.js";import{E as B}from"./eye-DTlBiNhT.js";/* empty css            */import"./index-Cfsd8eXM.js";import"./index-Cq18JqvT.js";import"./check-Bp6U0sMP.js";import"./index-C-byGbbM.js";import"./loader-circle-C2tDxUKC.js";import"./index-V_fi50bY.js";const T=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],K=F("Lock",T),r=t=>({url:r.url(t),method:"post"});r.definition={methods:["post"],url:"/login"};r.url=t=>r.definition.url+P(t);r.post=t=>({url:r.url(t),method:"post"});const N=t=>({action:r.url(t),method:"post"});N.post=t=>({action:r.url(t),method:"post"});r.form=N;Object.assign(r,r);function de(t){const s=E.c(14),{status:l,canResetPassword:f}=t,[i,L]=g.useState(!1),[h,j]=g.useState(!1);let n,m;s[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{j(!1)},m=[],s[0]=n,s[1]=m):(n=s[0],m=s[1]),g.useEffect(n,m);let d;s[2]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsx(_,{title:"Log in"}),s[2]=d):d=s[2];let c,p;s[3]===Symbol.for("react.memo_cache_sentinel")?(c=r.form(),p=["password"],s[3]=c,s[4]=p):(c=s[3],p=s[4]);let o;s[5]!==f||s[6]!==h||s[7]!==i?(o=e.jsx(S,{...c,resetOnSuccess:p,className:"flex flex-col gap-6",children:k=>{const{processing:v,errors:x}=k;return e.jsxs(e.Fragment,{children:[(x.email||x.password)&&e.jsx("div",{className:"rounded-xl border border-destructive/30 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:"Invalid credentials. Please check your email and password."}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(b,{htmlFor:"email",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(y,{id:"email",type:"email",name:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",placeholder:"email@example.com",className:"h-11 pl-10 focus-visible:ring-ring/40"})]}),e.jsx(w,{message:x.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{htmlFor:"password",children:"Password"}),f&&e.jsx(C,{href:R(),className:"ml-auto text-sm",tabIndex:5,children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"pointer-events-none absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(y,{id:"password",type:i?"text":"password",name:"password",required:!0,tabIndex:2,autoComplete:"current-password",placeholder:"Password",className:"h-11 pl-10 pr-10 focus-visible:ring-ring/40",onKeyUp:I=>j(I.getModifierState?.("CapsLock")??!1)}),e.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-md p-2 text-muted-foreground hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/40",onClick:()=>L(U),tabIndex:-1,"aria-label":i?"Hide password":"Show password",children:i?e.jsx(A,{className:"size-4"}):e.jsx(B,{className:"size-4"})})]}),h&&e.jsx("div",{className:"text-xs text-muted-foreground",children:"Caps Lock is on"}),e.jsx(w,{message:x.password})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(z,{id:"remember",name:"remember",tabIndex:3}),e.jsx(b,{htmlFor:"remember",children:"Remember me"})]}),e.jsxs(q,{type:"submit",className:"mt-4 w-full h-11 shadow-sm hover:bg-primary/90",tabIndex:4,disabled:v,"data-test":"login-button",children:[v&&e.jsx(O,{}),"Log in"]}),e.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:["Need help?"," ",e.jsx("a",{href:"mailto:htevilili@vanuatu.gov.vu",className:"text-[color:var(--ring)] hover:underline",children:"Contact admin"})]})]})]})}}),s[5]=f,s[6]=h,s[7]=i,s[8]=o):o=s[8];let a;s[9]!==l?(a=l&&e.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:l}),s[9]=l,s[10]=a):a=s[10];let u;return s[11]!==o||s[12]!==a?(u=e.jsxs(M,{title:"Log in to your account",description:"Enter your email and password below to log in",children:[d,o,a]}),s[11]=o,s[12]=a,s[13]=u):u=s[13],u}function U(t){return!t}export{de as default};
