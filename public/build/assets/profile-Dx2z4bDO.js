import{c as P,a as Q,j as r,F as q,u as T,L as $,H as R}from"./app-38lvqsZi.js";import{q as D,B as b}from"./app-logo-icon-D3-YZjDB.js";import{H as _}from"./heading-DZfmFNTY.js";import{I as w}from"./input-error-DCLrKTbb.js";import{D as V,a as B,d as K,g as O,f as U,c as W,e as Y}from"./dialog-DAn2UFrC.js";import{I as S}from"./input-BAVwmEoI.js";import{L as C}from"./label-C6uE05tf.js";import{v as z,w as G,A as J,t as M}from"./app-layout-aoZEk1tT.js";import{S as X}from"./layout-BQtw3EPj.js";import{s as Z}from"./index-CMr5oP3v.js";import{K as ee}from"./transition-Ce6YPp_f.js";/* empty css            */import"./index-C-byGbbM.js";import"./index-Cfsd8eXM.js";import"./separator-Dgt8imYn.js";import"./index-DEwl8mDS.js";const a=e=>({url:a.url(e),method:"get"});a.definition={methods:["get","head"],url:"/settings/profile"};a.url=e=>a.definition.url+D(e);a.get=e=>({url:a.url(e),method:"get"});a.head=e=>({url:a.url(e),method:"head"});const k=e=>({action:a.url(e),method:"get"});k.get=e=>({action:a.url(e),method:"get"});k.head=e=>({action:a.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});a.form=k;const o=e=>({url:o.url(e),method:"patch"});o.definition={methods:["patch"],url:"/settings/profile"};o.url=e=>o.definition.url+D(e);o.patch=e=>({url:o.url(e),method:"patch"});const F=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});F.patch=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});o.form=F;const i=e=>({url:i.url(e),method:"delete"});i.definition={methods:["delete"],url:"/settings/profile"};i.url=e=>i.definition.url+D(e);i.delete=e=>({url:i.url(e),method:"delete"});const A=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});A.delete=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});i.form=A;const I={update:o,destroy:i};function re(){const e=P.c(9),t=Q.useRef(null);let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=r.jsx(_,{variant:"small",title:"Delete account",description:"Delete your account and all of its resources"}),e[0]=m):m=e[0];let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=r.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[r.jsx("p",{className:"font-medium",children:"Warning"}),r.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),e[1]=u):u=e[1];let s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=r.jsx(U,{asChild:!0,children:r.jsx(b,{variant:"destructive","data-test":"delete-user-button",children:"Delete account"})}),e[2]=s):s=e[2];let l,p;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=r.jsx(W,{children:"Are you sure you want to delete your account?"}),p=r.jsx(Y,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),e[3]=l,e[4]=p):(l=e[3],p=e[4]);let n,f,d;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=I.destroy.form(),f={preserveScroll:!0},d=()=>t.current?.focus(),e[5]=n,e[6]=f,e[7]=d):(n=e[5],f=e[6],d=e[7]);let c;return e[8]===Symbol.for("react.memo_cache_sentinel")?(c=r.jsxs("div",{className:"space-y-6",children:[m,r.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[u,r.jsxs(V,{children:[s,r.jsxs(B,{children:[l,p,r.jsx(q,{...n,options:f,onError:d,resetOnSuccess:!0,className:"space-y-6",children:x=>{const{resetAndClearErrors:g,processing:h,errors:y}=x;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(C,{htmlFor:"password",className:"sr-only",children:"Password"}),r.jsx(S,{id:"password",type:"password",name:"password",ref:t,placeholder:"Password",autoComplete:"current-password"}),r.jsx(w,{message:y.password})]}),r.jsxs(K,{className:"gap-2",children:[r.jsx(O,{asChild:!0,children:r.jsx(b,{variant:"secondary",onClick:()=>g(),children:"Cancel"})}),r.jsx(b,{variant:"destructive",disabled:h,asChild:!0,children:r.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Delete account"})})]})]})}})]})]})]})]}),e[8]=c):c=e[8],c}const te=["ðŸ˜€","ðŸ˜Ž","ðŸ¤“","ðŸ§‘â€ðŸ’¼","ðŸ‘¤","ðŸ¦¸","ðŸ¥·","ðŸ¤–","ðŸ‘½","ðŸ¦„","ðŸ±","ðŸ¶","ðŸ¦Š","ðŸ¼","ðŸ¦","ðŸ¯","ðŸ¨","ðŸ·","ðŸ¸","ðŸµ","ðŸŒŸ","ðŸ”¥","âš¡","ðŸŒˆ","ðŸŒº","ðŸ•","â˜•","ðŸŽ¯","ðŸŽ¨","ðŸŽµ","ðŸ¦‰","ðŸ","ðŸ§","ðŸ²","ðŸ¦‹","ðŸ¢","ðŸ¬","ðŸ™","ï¿½","ðŸ•µï¸","ðŸ§™","ðŸ‘»","ðŸ‘¾","ðŸ‘‘","ðŸš€","ðŸ’¡","ðŸ’Ž","ðŸŽ®","ðŸŒ","ðŸ’»","âš™ï¸","ðŸ“¡","ðŸ”‹","ðŸƒ","ðŸŒŠ","ðŸŒ™","ðŸ”ï¸","ðŸ¥Š","ðŸ›¹"],se=[{title:"Profile settings",href:M().url}];function ve(e){const t=P.c(15),{mustVerifyEmail:m,status:u}=e,{auth:s}=T().props,[l,p]=Q.useState(s.user.avatar||"");let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=N=>{p(N)},t[0]=n):n=t[0];const f=n;let d,c;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=r.jsx(R,{title:"Profile settings"}),c=r.jsx("h1",{className:"sr-only",children:"Profile Settings"}),t[1]=d,t[2]=c):(d=t[1],c=t[2]);let x,g;t[3]===Symbol.for("react.memo_cache_sentinel")?(x=I.update.form(),g={preserveScroll:!0},t[3]=x,t[4]=g):(x=t[3],g=t[4]);let h;t[5]!==s.user.email||t[6]!==s.user.email_verified_at||t[7]!==s.user.name||t[8]!==m||t[9]!==l||t[10]!==u?(h=r.jsx("div",{className:"space-y-6",children:r.jsx(q,{...x,options:g,className:"space-y-6",children:N=>{const{processing:L,recentlySuccessful:H,errors:E}=N;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(_,{variant:"small",title:"Profile icon",description:"Choose an icon or emoji to represent you"}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(z,{className:"h-24 w-24",children:r.jsx(G,{className:"text-4xl bg-neutral-100 dark:bg-neutral-800",children:l||"ðŸ‘¤"})}),r.jsx("div",{children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Click an icon below to change your profile icon."})})]}),r.jsx("div",{className:"grid grid-cols-10 gap-2",children:te.map(v=>r.jsx("button",{type:"button",onClick:()=>f(v),className:`h-10 w-10 rounded-lg border text-2xl transition-colors ${l===v?"border-primary bg-primary/10":"border-border hover:bg-accent"}`,children:v},v))}),r.jsx("input",{type:"hidden",name:"avatar",value:l})]}),r.jsx(_,{variant:"small",title:"Profile information",description:"Update your name and email address"}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(C,{htmlFor:"name",children:"Name"}),r.jsx(S,{id:"name",className:"mt-1 block w-full",defaultValue:s.user.name,name:"name",required:!0,autoComplete:"name",placeholder:"Full name"}),r.jsx(w,{className:"mt-2",message:E.name})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(C,{htmlFor:"email",children:"Email address"}),r.jsx(S,{id:"email",type:"email",className:"mt-1 block w-full",defaultValue:s.user.email,name:"email",required:!0,autoComplete:"username",placeholder:"Email address"}),r.jsx(w,{className:"mt-2",message:E.email})]}),m&&s.user.email_verified_at===null&&r.jsxs("div",{children:[r.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:["Your email address is unverified."," ",r.jsx($,{href:Z(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Click here to resend the verification email."})]}),u==="verification-link-sent"&&r.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"A new verification link has been sent to your email address."})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(b,{disabled:L,"data-test":"update-profile-button",children:"Save"}),r.jsx(ee,{show:H,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:r.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"})})]})]})}})}),t[5]=s.user.email,t[6]=s.user.email_verified_at,t[7]=s.user.name,t[8]=m,t[9]=l,t[10]=u,t[11]=h):h=t[11];let y;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=r.jsx(re,{}),t[12]=y):y=t[12];let j;return t[13]!==h?(j=r.jsxs(J,{breadcrumbs:se,children:[d,c,r.jsxs(X,{children:[h,y]})]}),t[13]=h,t[14]=j):j=t[14],j}export{ve as default};
