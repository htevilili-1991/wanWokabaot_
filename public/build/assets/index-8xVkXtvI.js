import{c as R,j as t,L as z,H as $}from"./app-C_R9jF1x.js";import{e as V,B as j}from"./app-logo-icon-BwBSu0IG.js";import{C as p,a as v,b,c as g,d as q}from"./card-DTVjJi2-.js";import{B as I}from"./badge-BZIuKSZg.js";import{i as U,d as G,A as J}from"./app-layout-DKoOPHdo.js";import{P as K}from"./plus-C5DJo5sO.js";import{C as E}from"./calculator-C7V30n7z.js";import{E as O}from"./eye-DHxBuVXs.js";import{S as Q}from"./square-pen-CLpDrEV2.js";import{T as W}from"./trash-2-DvCVVt08.js";/* empty css            */import"./index-Bkt3dTVR.js";import"./index-lGcX66cW.js";function be(a){const e=R.c(40),{dividendPeriods:s}=a;let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_={title:"Dashboard",href:V()},e[0]=_):_=e[0];let y;e[1]===Symbol.for("react.memo_cache_sentinel")?(y=[_,{title:"Dividends",href:U()}],e[1]=y):y=e[1];const F=y,H=le,k=ie,M=ae;let N;e[2]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx($,{title:"Dividend Management"}),e[2]=N):N=e[2];let w;e[3]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dividend Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage dividend periods and distribute profits to members based on their patronage."})]}),e[3]=w):w=e[3];let C;e[4]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsxs("div",{className:"flex items-center justify-between",children:[w,t.jsx(j,{asChild:!0,children:t.jsxs(z,{href:G(),children:[t.jsx(K,{className:"mr-2 h-4 w-4"}),"Create Dividend Period"]})})]}),e[4]=C):C=e[4];let D;e[5]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:t.jsx(g,{className:"text-sm font-medium",children:"Total Periods"})}),e[5]=D):D=e[5];let l;e[6]!==s.total?(l=t.jsxs(p,{children:[D,t.jsx(v,{children:t.jsx("div",{className:"text-2xl font-bold",children:s.total})})]}),e[6]=s.total,e[7]=l):l=e[7];let S;e[8]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:t.jsx(g,{className:"text-sm font-medium",children:"Active Periods"})}),e[8]=S):S=e[8];let r;e[9]!==s.data?(r=s.data.filter(se),e[9]=s.data,e[10]=r):r=e[10];let n;e[11]!==r.length?(n=t.jsxs(p,{children:[S,t.jsx(v,{children:t.jsx("div",{className:"text-2xl font-bold",children:r.length})})]}),e[11]=r.length,e[12]=n):n=e[12];let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:t.jsx(g,{className:"text-sm font-medium",children:"Total Dividends Paid"})}),e[13]=P):P=e[13];let d;e[14]!==s.data?(d=k(s.data.filter(te).reduce(ee,0)),e[14]=s.data,e[15]=d):d=e[15];let c;e[16]!==d?(c=t.jsxs(p,{children:[P,t.jsx(v,{children:t.jsx("div",{className:"text-2xl font-bold",children:d})})]}),e[16]=d,e[17]=c):c=e[17];let T;e[18]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:t.jsx(g,{className:"text-sm font-medium",children:"Pending Approval"})}),e[18]=T):T=e[18];let o;e[19]!==s.data?(o=s.data.filter(Z),e[19]=s.data,e[20]=o):o=e[20];let m;e[21]!==o.length?(m=t.jsxs(p,{children:[T,t.jsx(v,{children:t.jsx("div",{className:"text-2xl font-bold",children:o.length})})]}),e[21]=o.length,e[22]=m):m=e[22];let f;e[23]!==n||e[24]!==c||e[25]!==m||e[26]!==l?(f=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l,n,c,m]}),e[23]=n,e[24]=c,e[25]=m,e[26]=l,e[27]=f):f=e[27];let A;e[28]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsxs(b,{children:[t.jsx(g,{children:"Dividend Periods"}),t.jsx(q,{children:"A list of all dividend periods and their current status."})]}),e[28]=A):A=e[28];let x;if(e[29]!==s.data){let B;e[31]===Symbol.for("react.memo_cache_sentinel")?(B=i=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-medium",children:i.name}),H(i.status)]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(i.start_date).toLocaleDateString()," - ",new Date(i.end_date).toLocaleDateString()]}),t.jsxs("div",{className:"flex gap-4 text-sm",children:[t.jsxs("span",{children:["Total Profit: ",k(i.total_profit)]}),t.jsxs("span",{children:["Rate: ",M(i.dividend_rate)]}),t.jsxs("span",{children:["Total Dividends: ",k(i.total_dividends)]})]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created by ",i.created_by.name," on ",new Date(i.created_at).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(j,{variant:"outline",size:"sm",asChild:!0,children:t.jsx(z,{href:route("dividends.show",i.id),children:t.jsx(O,{className:"h-4 w-4"})})}),i.status==="draft"&&t.jsxs(t.Fragment,{children:[t.jsx(j,{variant:"outline",size:"sm",asChild:!0,children:t.jsx(z,{href:route("dividends.edit",i.id),children:t.jsx(Q,{className:"h-4 w-4"})})}),t.jsx(j,{variant:"outline",size:"sm",onClick:Y,children:t.jsx(W,{className:"h-4 w-4"})})]}),i.status==="draft"&&t.jsxs(j,{size:"sm",onClick:X,children:[t.jsx(E,{className:"h-4 w-4 mr-2"}),"Calculate"]})]})]},i.id),e[31]=B):B=e[31],x=s.data.map(B),e[29]=s.data,e[30]=x}else x=e[30];let h;e[32]!==s.data.length?(h=s.data.length===0&&t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(E,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("h3",{className:"text-lg font-medium",children:"No dividend periods yet"}),t.jsx("p",{children:"Create your first dividend period to start distributing profits to members."})]}),e[32]=s.data.length,e[33]=h):h=e[33];let u;e[34]!==x||e[35]!==h?(u=t.jsxs(p,{children:[A,t.jsx(v,{children:t.jsxs("div",{className:"space-y-4",children:[x,h]})})]}),e[34]=x,e[35]=h,e[36]=u):u=e[36];let L;return e[37]!==f||e[38]!==u?(L=t.jsxs(J,{breadcrumbs:F,children:[N,t.jsxs("div",{className:"space-y-6",children:[C,f,u]})]}),e[37]=f,e[38]=u,e[39]=L):L=e[39],L}function X(){confirm("Calculate dividends for this period? This will be based on member purchases.")}function Y(){confirm("Are you sure you want to delete this dividend period?")}function Z(a){return a.status==="calculated"}function ee(a,e){return a+e.total_dividends}function te(a){return a.status==="paid"}function se(a){return a.status!=="paid"}function ae(a){return`${a.toFixed(2)}%`}function ie(a){return`VT ${a.toLocaleString("en-VU",{minimumFractionDigits:2})}`}function le(a){const e={draft:"secondary",calculated:"warning",approved:"default",paid:"success"},s={draft:"Draft",calculated:"Calculated",approved:"Approved",paid:"Paid"};return t.jsx(I,{variant:e[a]||"secondary",children:s[a]||a})}export{be as default};
