import{c as fe,j as t,H as ie}from"./app-DH8btaUO.js";import{C as E,a as V,b as U,c as ae,d as R}from"./card-CWtfQ6EU.js";import{B as je}from"./badge-B2y3p-BX.js";import{e as ce,c as de,T as te,b as r,d as oe,a as i}from"./table-DislBiDq.js";import{m as ue,D as ne,A as me}from"./app-layout-BwMuRh4w.js";import{c as pe,e as ye}from"./app-logo-icon-Cp3mBhT3.js";import{C as be}from"./calendar-BYW_cSFX.js";/* empty css            */import"./index-D7pXJOK0.js";import"./index-BqCeLl6e.js";const ge=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],_e=pe("TrendingUp",ge);function $e(s){const e=fe.c(79),{dividends:l,message:h}=s;let Y;e[0]===Symbol.for("react.memo_cache_sentinel")?(Y={title:"Dashboard",href:ye()},e[0]=Y):Y=e[0];let $;e[1]===Symbol.for("react.memo_cache_sentinel")?($=[Y,{title:"My Dividends",href:ue()}],e[1]=$):$=e[1];const re=$,xe=Me,he=Ce,x=Pe;let f,j,u,p,c,y,b,g,d,_,o,v,m,F;if(e[2]!==l||e[3]!==h){y=Symbol.for("react.early_return_sentinel");e:{const n=l.reduce(Te,0),a=l.reduce(De,0);if(F=n-a,h){let W;e[18]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(ie,{title:"My Dividends"}),e[18]=W):W=e[18];let X;e[19]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Dividends"}),t.jsx("p",{className:"text-muted-foreground",children:"View your dividend history and earnings from the cooperative."})]}),e[19]=X):X=e[19];let Z;e[20]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(ne,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e[20]=Z):Z=e[20];let ee;e[21]!==h?(ee=t.jsxs(me,{breadcrumbs:re,children:[W,t.jsxs("div",{className:"space-y-6",children:[X,t.jsx(E,{children:t.jsx(R,{className:"pt-6",children:t.jsxs("div",{className:"text-center py-8",children:[Z,t.jsx("h3",{className:"text-lg font-medium",children:h})]})})})]})]}),e[21]=h,e[22]=ee):ee=e[22],y=ee;break e}u=me,p=re,e[23]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(ie,{title:"My Dividends"}),e[23]=c):c=e[23],v="space-y-6",e[24]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Dividends"}),t.jsx("p",{className:"text-muted-foreground",children:"View your dividend history and earnings from the cooperative."})]}),e[24]=m):m=e[24],_="grid gap-4 md:grid-cols-3";let O;e[25]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(U,{className:"text-sm font-medium",children:"Total Earned"}),t.jsx(ne,{className:"h-4 w-4 text-muted-foreground"})]}),e[25]=O):O=e[25];const le=x(n);let B;e[26]!==le?(B=t.jsx("div",{className:"text-2xl font-bold text-green-600",children:le}),e[26]=le,e[27]=B):B=e[27];let Q;e[28]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("p",{className:"text-xs text-muted-foreground",children:"All-time dividend earnings"}),e[28]=Q):Q=e[28],e[29]!==B?(o=t.jsxs(E,{children:[O,t.jsxs(R,{children:[B,Q]})]}),e[29]=B,e[30]=o):o=e[30],j=E,e[31]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(U,{className:"text-sm font-medium",children:"Total Paid"}),t.jsx(_e,{className:"h-4 w-4 text-muted-foreground"})]}),e[31]=d):d=e[31],f=R,b="text-2xl font-bold text-blue-600",g=x(a)}e[2]=l,e[3]=h,e[4]=f,e[5]=j,e[6]=u,e[7]=p,e[8]=c,e[9]=y,e[10]=b,e[11]=g,e[12]=d,e[13]=_,e[14]=o,e[15]=v,e[16]=m,e[17]=F}else f=e[4],j=e[5],u=e[6],p=e[7],c=e[8],y=e[9],b=e[10],g=e[11],d=e[12],_=e[13],o=e[14],v=e[15],m=e[16],F=e[17];if(y!==Symbol.for("react.early_return_sentinel"))return y;let N;e[32]!==b||e[33]!==g?(N=t.jsx("div",{className:b,children:g}),e[32]=b,e[33]=g,e[34]=N):N=e[34];let I;e[35]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Amount received so far"}),e[35]=I):I=e[35];let S;e[36]!==f||e[37]!==N?(S=t.jsxs(f,{children:[N,I]}),e[36]=f,e[37]=N,e[38]=S):S=e[38];let w;e[39]!==j||e[40]!==S||e[41]!==d?(w=t.jsxs(j,{children:[d,S]}),e[39]=j,e[40]=S,e[41]=d,e[42]=w):w=e[42];let q;e[43]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(U,{className:"text-sm font-medium",children:"Pending Payment"}),t.jsx(be,{className:"h-4 w-4 text-muted-foreground"})]}),e[43]=q):q=e[43];const se=x(F);let D;e[44]!==se?(D=t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:se}),e[44]=se,e[45]=D):D=e[45];let z;e[46]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Amount awaiting payment"}),e[46]=z):z=e[46];let T;e[47]!==D?(T=t.jsxs(E,{children:[q,t.jsxs(R,{children:[D,z]})]}),e[47]=D,e[48]=T):T=e[48];let P;e[49]!==w||e[50]!==T||e[51]!==_||e[52]!==o?(P=t.jsxs("div",{className:_,children:[o,w,T]}),e[49]=w,e[50]=T,e[51]=_,e[52]=o,e[53]=P):P=e[53];let G;e[54]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsxs(V,{children:[t.jsx(U,{children:"Dividend History"}),t.jsx(ae,{children:"Your dividend earnings from different periods."})]}),e[54]=G):G=e[54];let J;e[55]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(de,{children:t.jsxs(te,{children:[t.jsx(r,{children:"Period"}),t.jsx(r,{children:"Date Range"}),t.jsx(r,{children:"Your Purchases"}),t.jsx(r,{children:"Earned"}),t.jsx(r,{children:"Paid"}),t.jsx(r,{children:"Status"})]})}),e[55]=J):J=e[55];let C;if(e[56]!==l){let n;e[58]===Symbol.for("react.memo_cache_sentinel")?(n=a=>t.jsxs(te,{children:[t.jsx(i,{className:"font-medium",children:a.dividend_period.name}),t.jsxs(i,{children:[new Date(a.dividend_period.start_date).toLocaleDateString()," - ",new Date(a.dividend_period.end_date).toLocaleDateString()]}),t.jsx(i,{children:x(a.total_purchases)}),t.jsx(i,{className:"text-green-600 font-medium",children:x(a.calculated_dividend)}),t.jsx(i,{className:"text-blue-600",children:x(a.paid_amount)}),t.jsx(i,{children:xe(a.status)})]},a.id),e[58]=n):n=e[58],C=l.map(n),e[56]=l,e[57]=C}else C=e[57];let M;e[59]!==C?(M=t.jsxs(ce,{children:[J,t.jsx(oe,{children:C})]}),e[59]=C,e[60]=M):M=e[60];let k;e[61]!==l.length?(k=l.length===0&&t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(ne,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("h3",{className:"text-lg font-medium",children:"No dividend history yet"}),t.jsx("p",{children:"Your dividend earnings will appear here once calculated for upcoming periods."})]}),e[61]=l.length,e[62]=k):k=e[62];let A;e[63]!==M||e[64]!==k?(A=t.jsxs(E,{children:[G,t.jsxs(R,{children:[M,k]})]}),e[63]=M,e[64]=k,e[65]=A):A=e[65];let H;e[66]!==l?(H=l.some(we)&&t.jsxs(E,{children:[t.jsxs(V,{children:[t.jsx(U,{children:"Payment History"}),t.jsx(ae,{children:"Details of dividend payments you've received."})]}),t.jsx(R,{children:t.jsxs(ce,{children:[t.jsx(de,{children:t.jsxs(te,{children:[t.jsx(r,{children:"Period"}),t.jsx(r,{children:"Payment Date"}),t.jsx(r,{children:"Method"}),t.jsx(r,{children:"Amount"}),t.jsx(r,{children:"Reference"}),t.jsx(r,{children:"Processed By"})]})}),t.jsx(oe,{children:l.filter(Se).flatMap(Ne).sort(ve).map(n=>t.jsxs(te,{children:[t.jsx(i,{children:n.period}),t.jsx(i,{children:new Date(n.payment_date).toLocaleDateString()}),t.jsx(i,{children:he(n.payment_method)}),t.jsx(i,{className:"font-medium",children:x(n.amount)}),t.jsx(i,{children:n.reference||"-"}),t.jsx(i,{children:n.processed_by.name})]},n.id))})]})})]}),e[66]=l,e[67]=H):H=e[67];let L;e[68]!==P||e[69]!==A||e[70]!==H||e[71]!==v||e[72]!==m?(L=t.jsxs("div",{className:v,children:[m,P,A,H]}),e[68]=P,e[69]=A,e[70]=H,e[71]=v,e[72]=m,e[73]=L):L=e[73];let K;return e[74]!==u||e[75]!==p||e[76]!==c||e[77]!==L?(K=t.jsxs(u,{breadcrumbs:p,children:[c,L]}),e[74]=u,e[75]=p,e[76]=c,e[77]=L,e[78]=K):K=e[78],K}function ve(s,e){return new Date(e.payment_date).getTime()-new Date(s.payment_date).getTime()}function Ne(s){return s.payments.map(e=>({...e,period:s.dividend_period.name}))}function Se(s){return s.payments.length>0}function we(s){return s.payments.length>0}function De(s,e){return s+e.paid_amount}function Te(s,e){return s+e.calculated_dividend}function Pe(s){return`VT ${s.toLocaleString("en-VU",{minimumFractionDigits:2})}`}function Ce(s){return{cash:"Cash",credit:"Credit to Account",bank_transfer:"Bank Transfer"}[s]||s}function Me(s){const e={pending:"secondary",approved:"warning",paid:"success",cancelled:"destructive"},l={pending:"Pending",approved:"Approved",paid:"Paid",cancelled:"Cancelled"};return t.jsx(je,{variant:e[s]||"secondary",children:l[s]||s})}export{$e as default};
