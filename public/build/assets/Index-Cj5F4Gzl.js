import{c as bt,r as $,j as l,a as vt,H as zt,b as gt,L as ut}from"./app-DH8btaUO.js";import{C as Nt}from"./checkbox-Dc8O_WKc.js";import{B as k,q as Ze,a as jt,v as Rt}from"./app-logo-icon-Cp3mBhT3.js";import{I as ht}from"./input-BzFALaBE.js";import{S as wt,a as Ct,b as Tt,d as Se,c as Dt}from"./select-_E2f0L1T.js";import{D as Et,a as kt,b as Mt,c as qt,d as Qt,e as $t}from"./dialog-DhDMvRxP.js";import{L as ft}from"./label-BhiLzNVm.js";import{T as pt,a as E,b as q,c as Ut,d as Kt,e as Xt}from"./table-DislBiDq.js";import{a as Gt,b as Jt,C as At,d as Pt}from"./card-CWtfQ6EU.js";import{X as Ft,A as Wt}from"./app-layout-BwMuRh4w.js";import{C as xt}from"./circle-check-big-BC2Nm-7o.js";import{T as yt}from"./triangle-alert-DCvwbpYG.js";import{K as Yt}from"./transition-BGDr4l9T.js";import{T as Zt}from"./trash-2-Bl_KDGSt.js";import{f as el}from"./format-D5ebMS61.js";import{C as tl}from"./calendar-BYW_cSFX.js";import{S as ll}from"./search-Du1Pg1ZC.js";/* empty css            */import"./index-D7pXJOK0.js";import"./index-DbeBujGd.js";import"./check-MSR6y9Ih.js";import"./index-BqCeLl6e.js";function sl(t){const e=bt.c(33),{message:s,type:u,show:d,onClose:g,autoHide:H,duration:A}=t,N=H===void 0?!0:H,w=A===void 0?5e3:A,[f,r]=$.useState(d);let y,C;e[0]!==d?(y=()=>{r(d)},C=[d],e[0]=d,e[1]=y,e[2]=C):(y=e[1],C=e[2]),$.useEffect(y,C);let i,h;e[3]!==N||e[4]!==w||e[5]!==f||e[6]!==g?(i=()=>{if(N&&f&&w>0){const et=setTimeout(()=>{r(!1),g?.()},w);return()=>clearTimeout(et)}},h=[f,N,w,g],e[3]=N,e[4]=w,e[5]=f,e[6]=g,e[7]=i,e[8]=h):(i=e[7],h=e[8]),$.useEffect(i,h);let p;e[9]!==u?(p=()=>{switch(u){case"success":return l.jsx(xt,{className:"h-5 w-5 text-green-400"});case"error":return l.jsx(Ft,{className:"h-5 w-5 text-red-400"});case"warning":return l.jsx(yt,{className:"h-5 w-5 text-yellow-400"});case"info":return l.jsx(xt,{className:"h-5 w-5 text-blue-400"});default:return l.jsx(xt,{className:"h-5 w-5 text-gray-400"})}},e[9]=u,e[10]=p):p=e[10];const c=p;let o;e[11]!==u?(o=()=>{switch(u){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},e[11]=u,e[12]=o):o=e[12];const b=`pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg border p-4 shadow-lg ring-1 ring-black ring-opacity-5 ${o()}`;let S;e[13]!==c?(S=l.jsx("div",{className:"flex-shrink-0",children:c()}),e[13]=c,e[14]=S):S=e[14];let m;e[15]!==s?(m=l.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:l.jsx("p",{className:"text-sm font-medium",children:s})}),e[15]=s,e[16]=m):m=e[16];let j;e[17]!==g?(j=()=>{r(!1),g?.()},e[17]=g,e[18]=j):j=e[18];let x,a;e[19]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx("span",{className:"sr-only",children:"Dismiss"}),a=l.jsx(Ft,{className:"h-5 w-5"}),e[19]=x,e[20]=a):(x=e[19],a=e[20]);let P;e[21]!==j?(P=l.jsx("div",{className:"ml-4 flex flex-shrink-0",children:l.jsxs("button",{type:"button",className:"inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2",onClick:j,children:[x,a]})}),e[21]=j,e[22]=P):P=e[22];let _;e[23]!==S||e[24]!==m||e[25]!==P?(_=l.jsxs("div",{className:"flex items-start",children:[S,m,P]}),e[23]=S,e[24]=m,e[25]=P,e[26]=_):_=e[26];let F;e[27]!==_||e[28]!==b?(F=l.jsx("div",{className:b,children:_}),e[27]=_,e[28]=b,e[29]=F):F=e[29];let L;return e[30]!==f||e[31]!==F?(L=l.jsx(Yt,{show:f,as:$.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:F}),e[30]=f,e[31]=F,e[32]=L):L=e[32],L}function nl(t){const e=bt.c(31),{isOpen:s,onClose:u,onConfirm:d,title:g,description:H,itemName:A,isLoading:N}=t,w=g===void 0?"Delete Item":g,f=H===void 0?"Are you sure you want to delete this item? This action cannot be undone.":H,r=N===void 0?!1:N;let y;e[0]!==d?(y=()=>{d()},e[0]=d,e[1]=y):y=e[1];const C=y;let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(yt,{className:"h-5 w-5 text-red-500"}),e[2]=i):i=e[2];let h;e[3]!==w?(h=l.jsxs(Et,{className:"flex items-center gap-2",children:[i,w]}),e[3]=w,e[4]=h):h=e[4];let p;e[5]!==A?(p=A&&l.jsxs("span",{className:"font-semibold text-gray-900",children:[' "',A,'"']}),e[5]=A,e[6]=p):p=e[6];let c;e[7]!==f||e[8]!==p?(c=l.jsxs(kt,{children:[f,p]}),e[7]=f,e[8]=p,e[9]=c):c=e[9];let o;e[10]!==h||e[11]!==c?(o=l.jsxs(Mt,{children:[h,c]}),e[10]=h,e[11]=c,e[12]=o):o=e[12];let Q;e[13]===Symbol.for("react.memo_cache_sentinel")?(Q=l.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 rounded-lg border border-red-200",children:[l.jsx(yt,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-red-700",children:"This action cannot be undone. Please confirm you want to proceed."})]}),e[13]=Q):Q=e[13];let b;e[14]!==r||e[15]!==u?(b=l.jsx(k,{type:"button",variant:"outline",onClick:u,disabled:r,children:"Cancel"}),e[14]=r,e[15]=u,e[16]=b):b=e[16];const S=r?"Deleting...":"Delete";let m;e[17]!==C||e[18]!==r||e[19]!==S?(m=l.jsx(k,{type:"button",variant:"destructive",onClick:C,disabled:r,children:S}),e[17]=C,e[18]=r,e[19]=S,e[20]=m):m=e[20];let j;e[21]!==b||e[22]!==m?(j=l.jsxs(qt,{children:[b,m]}),e[21]=b,e[22]=m,e[23]=j):j=e[23];let x;e[24]!==j||e[25]!==o?(x=l.jsxs(Qt,{className:"sm:max-w-[425px]",children:[o,Q,j]}),e[24]=j,e[25]=o,e[26]=x):x=e[26];let a;return e[27]!==s||e[28]!==u||e[29]!==x?(a=l.jsx($t,{open:s,onOpenChange:u,children:x}),e[27]=s,e[28]=u,e[29]=x,e[30]=a):a=e[30],a}const M=(t,e)=>({url:M.url(t,e),method:"post"});M.definition={methods:["post"],url:"/pending-sales/{pendingSale}/payment"};M.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={pendingSale:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={pendingSale:t.id}),Array.isArray(t)&&(t={pendingSale:t[0]}),t=jt(t);const s={pendingSale:typeof t.pendingSale=="object"?t.pendingSale.id:t.pendingSale};return M.definition.url.replace("{pendingSale}",s.pendingSale.toString()).replace(/\/+$/,"")+Ze(e)};M.post=(t,e)=>({url:M.url(t,e),method:"post"});const Lt=(t,e)=>({action:M.url(t,e),method:"post"});Lt.post=(t,e)=>({action:M.url(t,e),method:"post"});M.form=Lt;const v=(t,e)=>({url:v.url(t,e),method:"get"});v.definition={methods:["get","head"],url:"/pending-sales/{pendingSale}/edit"};v.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={pendingSale:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={pendingSale:t.id}),Array.isArray(t)&&(t={pendingSale:t[0]}),t=jt(t);const s={pendingSale:typeof t.pendingSale=="object"?t.pendingSale.id:t.pendingSale};return v.definition.url.replace("{pendingSale}",s.pendingSale.toString()).replace(/\/+$/,"")+Ze(e)};v.get=(t,e)=>({url:v.url(t,e),method:"get"});v.head=(t,e)=>({url:v.url(t,e),method:"head"});const St=(t,e)=>({action:v.url(t,e),method:"get"});St.get=(t,e)=>({action:v.url(t,e),method:"get"});St.head=(t,e)=>({action:v.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});v.form=St;const T=t=>({url:T.url(t),method:"delete"});T.definition={methods:["delete"],url:"/pending-sales/bulk-delete"};T.url=t=>T.definition.url+Ze(t);T.delete=t=>({url:T.url(t),method:"delete"});const Ht=t=>({action:T.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});Ht.delete=t=>({action:T.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});T.form=Ht;const D=(t,e)=>({url:D.url(t,e),method:"delete"});D.definition={methods:["delete"],url:"/pending-sales/{pendingSale?}"};D.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={pendingSale:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={pendingSale:t.id}),Array.isArray(t)&&(t={pendingSale:t[0]}),t=jt(t),Rt(t,["pendingSale"]);const s={pendingSale:typeof t?.pendingSale=="object"?t.pendingSale.id:t?.pendingSale};return D.definition.url.replace("{pendingSale?}",s.pendingSale?.toString()??"").replace(/\/+$/,"")+Ze(e)};D.delete=(t,e)=>({url:D.url(t,e),method:"delete"});const Bt=(t,e)=>({action:D.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});Bt.delete=(t,e)=>({action:D.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});D.form=Bt;Object.assign(M,M),Object.assign(v,v),Object.assign(T,T),Object.assign(D,D);function Ll(t){const e=bt.c(155),{pendingSales:s,members:u,filters:d}=t;let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=[{label:"Dashboard",href:"/dashboard"},{label:"Pending Transactions",href:"/pending-transactions"}],e[0]=g):g=e[0];const H=g,[A,N]=$.useState(!1),[w,f]=$.useState(!1),[r,y]=$.useState(null);let C;e[1]===Symbol.for("react.memo_cache_sentinel")?(C=[],e[1]=C):C=e[1];const[i,h]=$.useState(C);let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p={message:"",type:"success",show:!1},e[2]=p):p=e[2];const[c,o]=$.useState(p),Q=s.data.length>0&&i.length===s.data.length;let b;e[3]!==s.data?(b=n=>{h(n?s.data.map(pl):[])},e[3]=s.data,e[4]=b):b=e[4];const S=b;let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=(n,mt)=>{h(_t=>mt?[..._t,n]:_t.filter(Vt=>Vt!==n))},e[5]=m):m=e[5];const j=m;let x;e[6]===Symbol.for("react.memo_cache_sentinel")?(x={amount:"",payment_method:"cash",notes:""},e[6]=x):x=e[6];const a=vt(x);let P;e[7]===Symbol.for("react.memo_cache_sentinel")?(P={},e[7]=P):P=e[7];const _=vt(P);let F;e[8]!==a?(F=n=>{y(n),a.reset(),a.setData("amount",Math.min(n.remaining_balance,100).toString()),f(!0)},e[8]=a,e[9]=F):F=e[9];const L=F,et=fl;let _e;e[10]===Symbol.for("react.memo_cache_sentinel")?(_e=n=>{y(n),h([]),N(!0)},e[10]=_e):_e=e[10];const It=_e;let ve;e[11]!==i.length?(ve=()=>{y(null),i.length>0&&N(!0)},e[11]=i.length,e[12]=ve):ve=e[12];const tt=ve;let Ne;e[13]!==a||e[14]!==r?(Ne=()=>{r&&a.post(`/pending-sales/${r.id}/payment`,{onSuccess:()=>{f(!1),o({message:"Payment added successfully!",type:"success",show:!0}),setTimeout(()=>o(hl),3e3)},onError:()=>{o({message:"Failed to add payment.",type:"error",show:!0})}})},e[13]=a,e[14]=r,e[15]=Ne):Ne=e[15];const lt=Ne;let we;e[16]!==_||e[17]!==r||e[18]!==i?(we=()=>{i.length>0?_.delete(T().url,{data:{ids:i},onSuccess:()=>{o({message:"Selected transactions cancelled successfully!",type:"success",show:!0}),N(!1),h([]),setTimeout(()=>o(ul),3e3)},onError:()=>{o({message:"Failed to cancel selected transactions.",type:"error",show:!0})}}):r&&_.delete(D(r.id).url,{onSuccess:()=>{o({message:`Transaction ${r.transaction_id} cancelled successfully!`,type:"success",show:!0}),N(!1),y(null),setTimeout(()=>o(ml),3e3)},onError:()=>{o({message:"Failed to cancel transaction.",type:"error",show:!0})}})},e[16]=_,e[17]=r,e[18]=i,e[19]=we):we=e[19];const st=we,Ce=dl,Ot=cl;let Te;e[20]===Symbol.for("react.memo_cache_sentinel")?(Te=l.jsx(zt,{title:"Pending Transactions"}),e[20]=Te):Te=e[20];let De;e[21]===Symbol.for("react.memo_cache_sentinel")?(De=()=>o(ol),e[21]=De):De=e[21];let B;e[22]!==c.message||e[23]!==c.show||e[24]!==c.type?(B=l.jsx(sl,{message:c.message,type:c.type,show:c.show,onClose:De}),e[22]=c.message,e[23]=c.show,e[24]=c.type,e[25]=B):B=e[25];let Ae;e[26]===Symbol.for("react.memo_cache_sentinel")?(Ae=l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pending Transactions"}),l.jsx("p",{className:"text-gray-600",children:"Complete saved transactions after items are handed over"})]}),e[26]=Ae):Ae=e[26];let I;e[27]!==tt||e[28]!==i.length?(I=i.length>0&&l.jsxs(k,{variant:"destructive",onClick:tt,className:"flex items-center gap-2",children:[l.jsx(Zt,{className:"h-4 w-4"}),"Delete Selected (",i.length,")"]}),e[27]=tt,e[28]=i.length,e[29]=I):I=e[29];let O;e[30]!==s.total?(O=l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.total}),e[30]=s.total,e[31]=O):O=e[31];let Pe;e[32]===Symbol.for("react.memo_cache_sentinel")?(Pe=l.jsx("div",{className:"text-sm text-gray-500",children:"Total Pending"}),e[32]=Pe):Pe=e[32];let V;e[33]!==O?(V=l.jsxs("div",{className:"text-right",children:[O,Pe]}),e[33]=O,e[34]=V):V=e[34];let z;e[35]!==I||e[36]!==V?(z=l.jsxs("div",{className:"flex items-center justify-between",children:[Ae,l.jsxs("div",{className:"flex items-center gap-2",children:[I,V]})]}),e[35]=I,e[36]=V,e[37]=z):z=e[37];let Fe;e[38]===Symbol.for("react.memo_cache_sentinel")?(Fe=l.jsx(Gt,{children:l.jsx(Jt,{className:"text-lg",children:"Filters"})}),e[38]=Fe):Fe=e[38];let Ee;e[39]===Symbol.for("react.memo_cache_sentinel")?(Ee=l.jsx(ll,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e[39]=Ee):Ee=e[39];const nt=d.search||"";let R;e[40]!==d?(R=n=>{gt.get("/pending-transactions",{...d,search:n.target.value,page:1},{preserveState:!0})},e[40]=d,e[41]=R):R=e[41];let U;e[42]!==nt||e[43]!==R?(U=l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[Ee,l.jsx(ht,{type:"text",placeholder:"Search by transaction ID or member name...",value:nt,onChange:R,className:"pl-10"})]})}),e[42]=nt,e[43]=R,e[44]=U):U=e[44];const at=d.member_id||"all";let K;e[45]!==d?(K=n=>{gt.get("/pending-transactions",{...d,member_id:n==="all"?"":n,page:1},{preserveState:!0})},e[45]=d,e[46]=K):K=e[46];let ke;e[47]===Symbol.for("react.memo_cache_sentinel")?(ke=l.jsx(Ct,{className:"w-48",children:l.jsx(Tt,{placeholder:"Filter by member"})}),e[47]=ke):ke=e[47];let Me;e[48]===Symbol.for("react.memo_cache_sentinel")?(Me=l.jsx(Se,{value:"all",children:"All Members"}),e[48]=Me):Me=e[48];let X;e[49]!==u?(X=u.map(il),e[49]=u,e[50]=X):X=e[50];let G;e[51]!==X?(G=l.jsxs(Dt,{children:[Me,X]}),e[51]=X,e[52]=G):G=e[52];let J;e[53]!==at||e[54]!==K||e[55]!==G?(J=l.jsxs(wt,{value:at,onValueChange:K,children:[ke,G]}),e[53]=at,e[54]=K,e[55]=G,e[56]=J):J=e[56];let W;e[57]!==U||e[58]!==J?(W=l.jsxs(At,{children:[Fe,l.jsx(Pt,{children:l.jsxs("div",{className:"flex gap-4",children:[U,J]})})]}),e[57]=U,e[58]=J,e[59]=W):W=e[59];let Y;e[60]!==S||e[61]!==Q?(Y=l.jsx(q,{className:"w-16",children:l.jsx(Nt,{checked:Q,onCheckedChange:S,"aria-label":"Select all transactions"})}),e[60]=S,e[61]=Q,e[62]=Y):Y=e[62];let qe,Qe,$e,Le,He,Be,Ie,Oe,Ve;e[63]===Symbol.for("react.memo_cache_sentinel")?(qe=l.jsx(q,{children:"Transaction ID"}),Qe=l.jsx(q,{children:"Customer"}),$e=l.jsx(q,{children:"Items"}),Le=l.jsx(q,{children:"Total"}),He=l.jsx(q,{children:"Paid"}),Be=l.jsx(q,{children:"Remaining"}),Ie=l.jsx(q,{children:"Created By"}),Oe=l.jsx(q,{children:"Created At"}),Ve=l.jsx(q,{children:"Actions"}),e[63]=qe,e[64]=Qe,e[65]=$e,e[66]=Le,e[67]=He,e[68]=Be,e[69]=Ie,e[70]=Oe,e[71]=Ve):(qe=e[63],Qe=e[64],$e=e[65],Le=e[66],He=e[67],Be=e[68],Ie=e[69],Oe=e[70],Ve=e[71]);let Z;e[72]!==Y?(Z=l.jsx(Ut,{children:l.jsxs(pt,{children:[Y,qe,Qe,$e,Le,He,Be,Ie,Oe,Ve]})}),e[72]=Y,e[73]=Z):Z=e[73];let ee;e[74]!==L||e[75]!==s.data||e[76]!==i?(ee=s.data.length===0?l.jsx(pt,{children:l.jsx(E,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No pending transactions found"})}):s.data.map(n=>l.jsxs(pt,{children:[l.jsx(E,{children:l.jsx(Nt,{checked:i.includes(n.id),onCheckedChange:mt=>j(n.id,mt),"aria-label":`Select transaction ${n.transaction_id}`})}),l.jsx(E,{className:"font-mono font-medium",children:n.transaction_id}),l.jsx(E,{children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"font-medium",children:n.member_name}),n.member&&l.jsxs("div",{className:`text-xs px-2 py-1 rounded-full inline-block ${Ot(n.member.balance)}`,children:["Balance: ",Ce(n.member.balance)]})]})}),l.jsx(E,{children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"font-medium",children:[n.items_count," items"]}),l.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:n.items.map(rl).join(", ")})]})}),l.jsx(E,{className:"font-medium text-green-600",children:n.formatted_subtotal}),l.jsx(E,{className:"font-medium text-blue-600",children:Ce(n.total_paid)}),l.jsx(E,{className:"font-medium text-orange-600",children:Ce(n.remaining_balance)}),l.jsx(E,{children:n.created_by}),l.jsx(E,{children:l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[l.jsx(tl,{className:"h-4 w-4"}),el(new Date(n.created_at),"MMM dd, yyyy HH:mm")]})}),l.jsx(E,{children:l.jsxs("div",{className:"flex gap-1 flex-wrap",children:[n.member&&n.remaining_balance>0&&l.jsx(k,{size:"sm",variant:"outline",onClick:()=>L(n),className:"bg-blue-50 hover:bg-blue-100 border-blue-200 text-blue-700",children:"ðŸ’° Add Payment"}),l.jsx(k,{size:"sm",variant:"outline",onClick:()=>et(n),className:"bg-orange-50 hover:bg-orange-100 border-orange-200 text-orange-700",children:"âœï¸ Update"}),l.jsx(k,{size:"sm",variant:"outline",onClick:()=>It(n),className:"bg-red-50 hover:bg-red-100 border-red-200 text-red-700",children:"ðŸ—‘ï¸ Delete"})]})})]},n.id)),e[74]=L,e[75]=s.data,e[76]=i,e[77]=ee):ee=e[77];let te;e[78]!==ee?(te=l.jsx(Kt,{children:ee}),e[78]=ee,e[79]=te):te=e[79];let le;e[80]!==Z||e[81]!==te?(le=l.jsx(At,{children:l.jsx(Pt,{className:"p-0",children:l.jsxs(Xt,{children:[Z,te]})})}),e[80]=Z,e[81]=te,e[82]=le):le=e[82];let se;e[83]!==s.current_page||e[84]!==s.last_page||e[85]!==s.links||e[86]!==s.per_page||e[87]!==s.total?(se=s.last_page>1&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(s.current_page-1)*s.per_page+1," to"," ",Math.min(s.current_page*s.per_page,s.total)," of"," ",s.total," results"]}),l.jsx("div",{className:"flex gap-1",children:s.links.map(al)})]}),e[83]=s.current_page,e[84]=s.last_page,e[85]=s.links,e[86]=s.per_page,e[87]=s.total,e[88]=se):se=e[88];let ne;e[89]!==z||e[90]!==W||e[91]!==le||e[92]!==se?(ne=l.jsxs("div",{className:"space-y-6 p-6",children:[z,W,le,se]}),e[89]=z,e[90]=W,e[91]=le,e[92]=se,e[93]=ne):ne=e[93];let ze;e[94]===Symbol.for("react.memo_cache_sentinel")?(ze=l.jsx(Et,{children:"Add Payment"}),e[94]=ze):ze=e[94];const rt=r?.transaction_id;let ae;e[95]!==rt?(ae=l.jsxs(Mt,{children:[ze,l.jsxs(kt,{children:["Add a payment to transaction ",rt]})]}),e[95]=rt,e[96]=ae):ae=e[96];let re;e[97]!==lt?(re=n=>{n.preventDefault(),lt()},e[97]=lt,e[98]=re):re=e[98];let Re;e[99]===Symbol.for("react.memo_cache_sentinel")?(Re=l.jsx(ft,{htmlFor:"amount",children:"Payment Amount (VT)"}),e[99]=Re):Re=e[99];const it=r?.remaining_balance;let ie;e[100]!==a?(ie=n=>a.setData("amount",n.target.value),e[100]=a,e[101]=ie):ie=e[101];let oe;e[102]!==a.data.amount||e[103]!==it||e[104]!==ie?(oe=l.jsx(ht,{id:"amount",type:"number",step:"0.01",min:"0.01",max:it,value:a.data.amount,onChange:ie,placeholder:"Enter payment amount",required:!0}),e[102]=a.data.amount,e[103]=it,e[104]=ie,e[105]=oe):oe=e[105];let ce;e[106]!==r?(ce=r&&l.jsxs("p",{className:"text-sm text-gray-500",children:["Remaining balance: ",Ce(r.remaining_balance)]}),e[106]=r,e[107]=ce):ce=e[107];let de;e[108]!==oe||e[109]!==ce?(de=l.jsxs("div",{className:"grid gap-2",children:[Re,oe,ce]}),e[108]=oe,e[109]=ce,e[110]=de):de=e[110];let Ue;e[111]===Symbol.for("react.memo_cache_sentinel")?(Ue=l.jsx(ft,{htmlFor:"payment_method",children:"Payment Method"}),e[111]=Ue):Ue=e[111];let me;e[112]!==a?(me=n=>a.setData("payment_method",n),e[112]=a,e[113]=me):me=e[113];let Ke;e[114]===Symbol.for("react.memo_cache_sentinel")?(Ke=l.jsx(Ct,{children:l.jsx(Tt,{placeholder:"Select payment method"})}),e[114]=Ke):Ke=e[114];let Xe;e[115]===Symbol.for("react.memo_cache_sentinel")?(Xe=l.jsxs(Dt,{children:[l.jsx(Se,{value:"cash",children:"Cash"}),l.jsx(Se,{value:"bank_transfer",children:"Bank Transfer"}),l.jsx(Se,{value:"card",children:"Card"})]}),e[115]=Xe):Xe=e[115];let ue;e[116]!==a.data.payment_method||e[117]!==me?(ue=l.jsxs("div",{className:"grid gap-2",children:[Ue,l.jsxs(wt,{value:a.data.payment_method,onValueChange:me,children:[Ke,Xe]})]}),e[116]=a.data.payment_method,e[117]=me,e[118]=ue):ue=e[118];let Ge;e[119]===Symbol.for("react.memo_cache_sentinel")?(Ge=l.jsx(ft,{htmlFor:"notes",children:"Notes (Optional)"}),e[119]=Ge):Ge=e[119];let he;e[120]!==a?(he=n=>a.setData("notes",n.target.value),e[120]=a,e[121]=he):he=e[121];let fe;e[122]!==a.data.notes||e[123]!==he?(fe=l.jsxs("div",{className:"grid gap-2",children:[Ge,l.jsx(ht,{id:"notes",value:a.data.notes,onChange:he,placeholder:"Payment notes"})]}),e[122]=a.data.notes,e[123]=he,e[124]=fe):fe=e[124];let pe;e[125]!==de||e[126]!==ue||e[127]!==fe?(pe=l.jsxs("div",{className:"grid gap-4 py-4",children:[de,ue,fe]}),e[125]=de,e[126]=ue,e[127]=fe,e[128]=pe):pe=e[128];let Je;e[129]===Symbol.for("react.memo_cache_sentinel")?(Je=l.jsx(k,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e[129]=Je):Je=e[129];const ot=a.processing?"Adding Payment...":"Add Payment";let xe;e[130]!==a.processing||e[131]!==ot?(xe=l.jsxs(qt,{children:[Je,l.jsx(k,{type:"submit",disabled:a.processing,children:ot})]}),e[130]=a.processing,e[131]=ot,e[132]=xe):xe=e[132];let ge;e[133]!==re||e[134]!==pe||e[135]!==xe?(ge=l.jsxs("form",{onSubmit:re,children:[pe,xe]}),e[133]=re,e[134]=pe,e[135]=xe,e[136]=ge):ge=e[136];let ye;e[137]!==ae||e[138]!==ge?(ye=l.jsxs(Qt,{className:"sm:max-w-[425px]",children:[ae,ge]}),e[137]=ae,e[138]=ge,e[139]=ye):ye=e[139];let be;e[140]!==w||e[141]!==ye?(be=l.jsx($t,{open:w,onOpenChange:f,children:ye}),e[140]=w,e[141]=ye,e[142]=be):be=e[142];let We;e[143]===Symbol.for("react.memo_cache_sentinel")?(We=()=>{N(!1),y(null)},e[143]=We):We=e[143];const ct=`Are you sure you want to delete transaction ${r?.transaction_id}? This will cancel the transaction and return all items to inventory. Any payments made will be refunded to the member's balance.`,dt=r?.transaction_id;let je;e[144]!==_.processing||e[145]!==st||e[146]!==A||e[147]!==ct||e[148]!==dt?(je=l.jsx(nl,{isOpen:A,onClose:We,onConfirm:st,title:"Delete Transaction",description:ct,itemName:dt,isLoading:_.processing}),e[144]=_.processing,e[145]=st,e[146]=A,e[147]=ct,e[148]=dt,e[149]=je):je=e[149];let Ye;return e[150]!==B||e[151]!==ne||e[152]!==be||e[153]!==je?(Ye=l.jsxs(Wt,{breadcrumbs:H,children:[Te,B,ne,be,je]}),e[150]=B,e[151]=ne,e[152]=be,e[153]=je,e[154]=Ye):Ye=e[154],Ye}function al(t,e){return t.label==="&laquo; Previous"?t.url?l.jsx(ut,{href:t.url,preserveScroll:!0,children:l.jsx(k,{variant:"outline",size:"sm",children:"Previous"})},e):null:t.label==="Next &raquo;"?t.url?l.jsx(ut,{href:t.url,preserveScroll:!0,children:l.jsx(k,{variant:"outline",size:"sm",children:"Next"})},e):null:t.label==="..."?l.jsx("span",{className:"px-3 py-2",children:"..."},e):l.jsx(ut,{href:t.url||"#",preserveScroll:!0,children:l.jsx(k,{variant:t.active?"default":"outline",size:"sm",disabled:!t.url,children:t.label})},e)}function rl(t){return t.name}function il(t){return l.jsx(Se,{value:t.id.toString(),children:t.name},t.id)}function ol(t){return{...t,show:!1}}function cl(t){return t>=2e3?"bg-red-100 text-red-800":"text-gray-900"}function dl(t){return`${(typeof t=="string"?parseFloat(t):t).toFixed(2)} VT`}function ml(t){return{...t,show:!1}}function ul(t){return{...t,show:!1}}function hl(t){return{...t,show:!1}}function fl(t){gt.visit(`/pending-sales/${t.id}/edit`)}function pl(t){return t.id}export{Ll as default};
