import{c as _t,a as L,j as l,b as wt,r as tt,H as Kt,L as xt}from"./app-38lvqsZi.js";import{C as Ct}from"./checkbox-Xu_BEi2N.js";import{B as E,q as ve,a as lt,v as Xt}from"./app-logo-icon-D3-YZjDB.js";import{I as yt}from"./input-BAVwmEoI.js";import{d as Tt,a as At,b as Dt,S as _e,c as kt}from"./select-DM--AAJW.js";import{c as $t,e as Mt,b as qt,d as Qt,a as Lt,D as Bt}from"./dialog-DAn2UFrC.js";import{L as gt}from"./label-C6uE05tf.js";import{T as bt,a as P,b as q,c as Gt,d as Jt,e as Wt}from"./table-b6cFrxfN.js";import{b as Yt,c as Zt,C as Ft,a as Pt}from"./card-Ddlm6lvt.js";import{X as Et,A as el}from"./app-layout-aoZEk1tT.js";import{C as jt}from"./circle-check-big--PqiIOig.js";import{T as St}from"./triangle-alert-Cp988W_q.js";import{K as tl}from"./transition-Ce6YPp_f.js";import{T as ll}from"./trash-2-BaB-ppX8.js";import{f as sl}from"./format-D5ebMS61.js";import{C as nl}from"./calendar-DY0cTbCO.js";import{S as al}from"./search-Z2pKWY6O.js";/* empty css            */import"./index-Cfsd8eXM.js";import"./index-Cq18JqvT.js";import"./check-Bp6U0sMP.js";import"./index-C-byGbbM.js";function rl(t){const e=_t.c(33),{message:s,type:u,show:d,onClose:y,autoHide:H,duration:D}=t,v=H===void 0?!0:H,N=D===void 0?5e3:D,[f,i]=L.useState(d);let g,w;e[0]!==d?(g=()=>{i(d)},w=[d],e[0]=d,e[1]=g,e[2]=w):(g=e[1],w=e[2]),L.useEffect(g,w);let r,h;e[3]!==v||e[4]!==N||e[5]!==f||e[6]!==y?(r=()=>{if(v&&f&&N>0){const st=setTimeout(()=>{i(!1),y?.()},N);return()=>clearTimeout(st)}},h=[f,v,N,y],e[3]=v,e[4]=N,e[5]=f,e[6]=y,e[7]=r,e[8]=h):(r=e[7],h=e[8]),L.useEffect(r,h);let p;e[9]!==u?(p=()=>{switch(u){case"success":return l.jsx(jt,{className:"h-5 w-5 text-green-400"});case"error":return l.jsx(Et,{className:"h-5 w-5 text-red-400"});case"warning":return l.jsx(St,{className:"h-5 w-5 text-yellow-400"});case"info":return l.jsx(jt,{className:"h-5 w-5 text-blue-400"});default:return l.jsx(jt,{className:"h-5 w-5 text-gray-400"})}},e[9]=u,e[10]=p):p=e[10];const c=p;let o;e[11]!==u?(o=()=>{switch(u){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},e[11]=u,e[12]=o):o=e[12];const b=`pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg border p-4 shadow-lg ring-1 ring-black ring-opacity-5 ${o()}`;let S;e[13]!==c?(S=l.jsx("div",{className:"flex-shrink-0",children:c()}),e[13]=c,e[14]=S):S=e[14];let m;e[15]!==s?(m=l.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:l.jsx("p",{className:"text-sm font-medium",children:s})}),e[15]=s,e[16]=m):m=e[16];let j;e[17]!==y?(j=()=>{i(!1),y?.()},e[17]=y,e[18]=j):j=e[18];let x,a;e[19]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx("span",{className:"sr-only",children:"Dismiss"}),a=l.jsx(Et,{className:"h-5 w-5"}),e[19]=x,e[20]=a):(x=e[19],a=e[20]);let k;e[21]!==j?(k=l.jsx("div",{className:"ml-4 flex flex-shrink-0",children:l.jsxs("button",{type:"button",className:"inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2",onClick:j,children:[x,a]})}),e[21]=j,e[22]=k):k=e[22];let C;e[23]!==S||e[24]!==m||e[25]!==k?(C=l.jsxs("div",{className:"flex items-start",children:[S,m,k]}),e[23]=S,e[24]=m,e[25]=k,e[26]=C):C=e[26];let F;e[27]!==C||e[28]!==b?(F=l.jsx("div",{className:b,children:C}),e[27]=C,e[28]=b,e[29]=F):F=e[29];let B;return e[30]!==f||e[31]!==F?(B=l.jsx(tl,{show:f,as:L.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:F}),e[30]=f,e[31]=F,e[32]=B):B=e[32],B}function il(t){const e=_t.c(31),{isOpen:s,onClose:u,onConfirm:d,title:y,description:H,itemName:D,isLoading:v}=t,N=y===void 0?"Delete Item":y,f=H===void 0?"Are you sure you want to delete this item? This action cannot be undone.":H,i=v===void 0?!1:v;let g;e[0]!==d?(g=()=>{d()},e[0]=d,e[1]=g):g=e[1];const w=g;let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(St,{className:"h-5 w-5 text-red-500"}),e[2]=r):r=e[2];let h;e[3]!==N?(h=l.jsxs($t,{className:"flex items-center gap-2",children:[r,N]}),e[3]=N,e[4]=h):h=e[4];let p;e[5]!==D?(p=D&&l.jsxs("span",{className:"font-semibold text-gray-900",children:[' "',D,'"']}),e[5]=D,e[6]=p):p=e[6];let c;e[7]!==f||e[8]!==p?(c=l.jsxs(Mt,{children:[f,p]}),e[7]=f,e[8]=p,e[9]=c):c=e[9];let o;e[10]!==h||e[11]!==c?(o=l.jsxs(qt,{children:[h,c]}),e[10]=h,e[11]=c,e[12]=o):o=e[12];let Q;e[13]===Symbol.for("react.memo_cache_sentinel")?(Q=l.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 rounded-lg border border-red-200",children:[l.jsx(St,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-red-700",children:"This action cannot be undone. Please confirm you want to proceed."})]}),e[13]=Q):Q=e[13];let b;e[14]!==i||e[15]!==u?(b=l.jsx(E,{type:"button",variant:"outline",onClick:u,disabled:i,children:"Cancel"}),e[14]=i,e[15]=u,e[16]=b):b=e[16];const S=i?"Deleting...":"Delete";let m;e[17]!==w||e[18]!==i||e[19]!==S?(m=l.jsx(E,{type:"button",variant:"destructive",onClick:w,disabled:i,children:S}),e[17]=w,e[18]=i,e[19]=S,e[20]=m):m=e[20];let j;e[21]!==b||e[22]!==m?(j=l.jsxs(Qt,{children:[b,m]}),e[21]=b,e[22]=m,e[23]=j):j=e[23];let x;e[24]!==j||e[25]!==o?(x=l.jsxs(Lt,{className:"sm:max-w-[425px]",children:[o,Q,j]}),e[24]=j,e[25]=o,e[26]=x):x=e[26];let a;return e[27]!==s||e[28]!==u||e[29]!==x?(a=l.jsx(Bt,{open:s,onOpenChange:u,children:x}),e[27]=s,e[28]=u,e[29]=x,e[30]=a):a=e[30],a}const _=(t,e)=>({url:_.url(t,e),method:"get"});_.definition={methods:["get","head"],url:"/pending-sales/{pendingSale}/edit"};_.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={pendingSale:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={pendingSale:t.id}),Array.isArray(t)&&(t={pendingSale:t[0]}),t=lt(t);const s={pendingSale:typeof t.pendingSale=="object"?t.pendingSale.id:t.pendingSale};return _.definition.url.replace("{pendingSale}",s.pendingSale.toString()).replace(/\/+$/,"")+ve(e)};_.get=(t,e)=>({url:_.url(t,e),method:"get"});_.head=(t,e)=>({url:_.url(t,e),method:"head"});const vt=(t,e)=>({action:_.url(t,e),method:"get"});vt.get=(t,e)=>({action:_.url(t,e),method:"get"});vt.head=(t,e)=>({action:_.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});_.form=vt;const $=(t,e)=>({url:$.url(t,e),method:"post"});$.definition={methods:["post"],url:"/pending-sales/{pendingSale}/update"};$.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={pendingSale:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={pendingSale:t.id}),Array.isArray(t)&&(t={pendingSale:t[0]}),t=lt(t);const s={pendingSale:typeof t.pendingSale=="object"?t.pendingSale.id:t.pendingSale};return $.definition.url.replace("{pendingSale}",s.pendingSale.toString()).replace(/\/+$/,"")+ve(e)};$.post=(t,e)=>({url:$.url(t,e),method:"post"});const Ht=(t,e)=>({action:$.url(t,e),method:"post"});Ht.post=(t,e)=>({action:$.url(t,e),method:"post"});$.form=Ht;const M=(t,e)=>({url:M.url(t,e),method:"post"});M.definition={methods:["post"],url:"/pending-sales/{pendingSale}/payment"};M.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={pendingSale:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={pendingSale:t.id}),Array.isArray(t)&&(t={pendingSale:t[0]}),t=lt(t);const s={pendingSale:typeof t.pendingSale=="object"?t.pendingSale.id:t.pendingSale};return M.definition.url.replace("{pendingSale}",s.pendingSale.toString()).replace(/\/+$/,"")+ve(e)};M.post=(t,e)=>({url:M.url(t,e),method:"post"});const It=(t,e)=>({action:M.url(t,e),method:"post"});It.post=(t,e)=>({action:M.url(t,e),method:"post"});M.form=It;const T=t=>({url:T.url(t),method:"delete"});T.definition={methods:["delete"],url:"/pending-sales/bulk-delete"};T.url=t=>T.definition.url+ve(t);T.delete=t=>({url:T.url(t),method:"delete"});const Ot=t=>({action:T.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});Ot.delete=t=>({action:T.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});T.form=Ot;const A=(t,e)=>({url:A.url(t,e),method:"delete"});A.definition={methods:["delete"],url:"/pending-sales/{pendingSale?}"};A.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={pendingSale:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={pendingSale:t.id}),Array.isArray(t)&&(t={pendingSale:t[0]}),t=lt(t),Xt(t,["pendingSale"]);const s={pendingSale:typeof t?.pendingSale=="object"?t.pendingSale.id:t?.pendingSale};return A.definition.url.replace("{pendingSale?}",s.pendingSale?.toString()??"").replace(/\/+$/,"")+ve(e)};A.delete=(t,e)=>({url:A.url(t,e),method:"delete"});const Vt=(t,e)=>({action:A.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});Vt.delete=(t,e)=>({action:A.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});A.form=Vt;Object.assign(_,_),Object.assign($,$),Object.assign(M,M),Object.assign(T,T),Object.assign(A,A);function Il(t){const e=_t.c(156),{pendingSales:s,members:u,filters:d}=t;let y;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=[{label:"Dashboard",href:"/dashboard"},{label:"Pending Transactions",href:"/pending-transactions"}],e[0]=y):y=e[0];const H=y,[D,v]=L.useState(!1),[N,f]=L.useState(!1),[i,g]=L.useState(null);let w;e[1]===Symbol.for("react.memo_cache_sentinel")?(w=[],e[1]=w):w=e[1];const[r,h]=L.useState(w);let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p={message:"",type:"success",show:!1},e[2]=p):p=e[2];const[c,o]=L.useState(p),Q=s.data.length>0&&r.length===s.data.length;let b;e[3]!==s.data?(b=n=>{h(n?s.data.map(gl):[])},e[3]=s.data,e[4]=b):b=e[4];const S=b;let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=(n,pt)=>{h(Nt=>pt?[...Nt,n]:Nt.filter(Ut=>Ut!==n))},e[5]=m):m=e[5];const j=m;let x;e[6]===Symbol.for("react.memo_cache_sentinel")?(x={amount:"",payment_method:"cash",notes:""},e[6]=x):x=e[6];const a=wt(x);let k;e[7]===Symbol.for("react.memo_cache_sentinel")?(k={},e[7]=k):k=e[7];const C=wt(k);let F;e[8]!==a?(F=n=>{g(n),a.reset(),a.setData("amount",Math.min(n.remaining_balance,100).toString()),f(!0)},e[8]=a,e[9]=F):F=e[9];const B=F,st=yl;let Ne;e[10]===Symbol.for("react.memo_cache_sentinel")?(Ne=n=>{g(n),h([]),v(!0)},e[10]=Ne):Ne=e[10];const zt=Ne;let we;e[11]!==r.length?(we=()=>{g(null),r.length>0&&v(!0)},e[11]=r.length,e[12]=we):we=e[12];const nt=we;let Ce;e[13]!==a||e[14]!==i?(Ce=()=>{i&&a.post(`/pending-sales/${i.id}/payment`,{onSuccess:()=>{f(!1),o({message:"Payment added successfully!",type:"success",show:!0}),setTimeout(()=>o(xl),3e3)},onError:()=>{o({message:"Failed to add payment.",type:"error",show:!0})}})},e[13]=a,e[14]=i,e[15]=Ce):Ce=e[15];const at=Ce;let Te;e[16]!==C||e[17]!==i||e[18]!==r?(Te=()=>{r.length>0?(console.log("Attempting bulk delete with IDs:",r),console.log("Bulk destroy URL:",T().url),tt.delete(T().url,{data:{ids:r},onSuccess:()=>{console.log("Bulk delete successful"),o({message:"Selected transactions cancelled successfully!",type:"success",show:!0}),v(!1),h([]),setTimeout(()=>o(pl),3e3)},onError:n=>{console.error("Bulk delete failed:",n),o({message:"Failed to cancel selected transactions.",type:"error",show:!0})}})):i&&C.delete(A(i.id).url,{onSuccess:()=>{o({message:`Transaction ${i.transaction_id} cancelled successfully!`,type:"success",show:!0}),v(!1),g(null),setTimeout(()=>o(fl),3e3)},onError:()=>{o({message:"Failed to cancel transaction.",type:"error",show:!0})}})},e[16]=C,e[17]=i,e[18]=r,e[19]=Te):Te=e[19];const rt=Te,Ae=hl,Rt=ul;let De;e[20]===Symbol.for("react.memo_cache_sentinel")?(De=l.jsx(Kt,{title:"Pending Transactions"}),e[20]=De):De=e[20];let ke;e[21]===Symbol.for("react.memo_cache_sentinel")?(ke=()=>o(ml),e[21]=ke):ke=e[21];let I;e[22]!==c.message||e[23]!==c.show||e[24]!==c.type?(I=l.jsx(rl,{message:c.message,type:c.type,show:c.show,onClose:ke}),e[22]=c.message,e[23]=c.show,e[24]=c.type,e[25]=I):I=e[25];let Fe;e[26]===Symbol.for("react.memo_cache_sentinel")?(Fe=l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pending Transactions"}),l.jsx("p",{className:"text-gray-600",children:"Complete saved transactions after items are handed over"})]}),e[26]=Fe):Fe=e[26];let O;e[27]!==nt||e[28]!==r.length?(O=r.length>0&&l.jsxs(E,{variant:"destructive",onClick:nt,className:"flex items-center gap-2",children:[l.jsx(ll,{className:"h-4 w-4"}),"Delete Selected (",r.length,")"]}),e[27]=nt,e[28]=r.length,e[29]=O):O=e[29];let V;e[30]!==s.total?(V=l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.total}),e[30]=s.total,e[31]=V):V=e[31];let Pe;e[32]===Symbol.for("react.memo_cache_sentinel")?(Pe=l.jsx("div",{className:"text-sm text-gray-500",children:"Total Pending"}),e[32]=Pe):Pe=e[32];let z;e[33]!==V?(z=l.jsxs("div",{className:"text-right",children:[V,Pe]}),e[33]=V,e[34]=z):z=e[34];let R;e[35]!==O||e[36]!==z?(R=l.jsxs("div",{className:"flex items-center justify-between",children:[Fe,l.jsxs("div",{className:"flex items-center gap-2",children:[O,z]})]}),e[35]=O,e[36]=z,e[37]=R):R=e[37];let Ee;e[38]===Symbol.for("react.memo_cache_sentinel")?(Ee=l.jsx(Yt,{children:l.jsx(Zt,{className:"text-lg",children:"Filters"})}),e[38]=Ee):Ee=e[38];let $e;e[39]===Symbol.for("react.memo_cache_sentinel")?($e=l.jsx(al,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e[39]=$e):$e=e[39];const it=d.search||"";let U;e[40]!==d?(U=n=>{tt.get("/pending-transactions",{...d,search:n.target.value,page:1},{preserveState:!0})},e[40]=d,e[41]=U):U=e[41];let K;e[42]!==it||e[43]!==U?(K=l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[$e,l.jsx(yt,{type:"text",placeholder:"Search by transaction ID or member name...",value:it,onChange:U,className:"pl-10"})]})}),e[42]=it,e[43]=U,e[44]=K):K=e[44];const ot=d.member_id||"all";let X;e[45]!==d?(X=n=>{tt.get("/pending-transactions",{...d,member_id:n==="all"?"":n,page:1},{preserveState:!0})},e[45]=d,e[46]=X):X=e[46];let Me;e[47]===Symbol.for("react.memo_cache_sentinel")?(Me=l.jsx(At,{className:"w-48",children:l.jsx(Dt,{placeholder:"Filter by member"})}),e[47]=Me):Me=e[47];let qe;e[48]===Symbol.for("react.memo_cache_sentinel")?(qe=l.jsx(_e,{value:"all",children:"All Members"}),e[48]=qe):qe=e[48];let G;e[49]!==u?(G=u.map(dl),e[49]=u,e[50]=G):G=e[50];let J;e[51]!==G?(J=l.jsxs(kt,{children:[qe,G]}),e[51]=G,e[52]=J):J=e[52];let W;e[53]!==ot||e[54]!==X||e[55]!==J?(W=l.jsxs(Tt,{value:ot,onValueChange:X,children:[Me,J]}),e[53]=ot,e[54]=X,e[55]=J,e[56]=W):W=e[56];let Y;e[57]!==K||e[58]!==W?(Y=l.jsxs(Ft,{children:[Ee,l.jsx(Pt,{children:l.jsxs("div",{className:"flex gap-4",children:[K,W]})})]}),e[57]=K,e[58]=W,e[59]=Y):Y=e[59];let Z;e[60]!==S||e[61]!==Q?(Z=l.jsx(q,{className:"w-16",children:l.jsx(Ct,{checked:Q,onCheckedChange:S,"aria-label":"Select all transactions"})}),e[60]=S,e[61]=Q,e[62]=Z):Z=e[62];let Qe,Le,Be,He,Ie,Oe,Ve,ze,Re;e[63]===Symbol.for("react.memo_cache_sentinel")?(Qe=l.jsx(q,{children:"Transaction ID"}),Le=l.jsx(q,{children:"Customer"}),Be=l.jsx(q,{children:"Items"}),He=l.jsx(q,{children:"Total"}),Ie=l.jsx(q,{children:"Paid"}),Oe=l.jsx(q,{children:"Remaining"}),Ve=l.jsx(q,{children:"Created By"}),ze=l.jsx(q,{children:"Created At"}),Re=l.jsx(q,{children:"Actions"}),e[63]=Qe,e[64]=Le,e[65]=Be,e[66]=He,e[67]=Ie,e[68]=Oe,e[69]=Ve,e[70]=ze,e[71]=Re):(Qe=e[63],Le=e[64],Be=e[65],He=e[66],Ie=e[67],Oe=e[68],Ve=e[69],ze=e[70],Re=e[71]);let ee;e[72]!==Z?(ee=l.jsx(Gt,{children:l.jsxs(bt,{children:[Z,Qe,Le,Be,He,Ie,Oe,Ve,ze,Re]})}),e[72]=Z,e[73]=ee):ee=e[73];let te;e[74]!==B||e[75]!==s.data||e[76]!==r?(te=s.data.length===0?l.jsx(bt,{children:l.jsx(P,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No pending transactions found"})}):s.data.map(n=>l.jsxs(bt,{children:[l.jsx(P,{children:l.jsx(Ct,{checked:r.includes(n.id),onCheckedChange:pt=>j(n.id,pt),"aria-label":`Select transaction ${n.transaction_id}`})}),l.jsx(P,{className:"font-mono font-medium",children:n.transaction_id}),l.jsx(P,{children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"font-medium",children:n.member_name}),n.member&&l.jsxs("div",{className:`text-xs px-2 py-1 rounded-full inline-block ${Rt(n.member.balance)}`,children:["Balance: ",Ae(n.member.balance)]})]})}),l.jsx(P,{children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"font-medium",children:[n.items_count," items"]}),l.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:n.items.map(cl).join(", ")})]})}),l.jsx(P,{className:"font-medium text-green-600",children:n.formatted_subtotal}),l.jsx(P,{className:"font-medium text-blue-600",children:Ae(n.total_paid)}),l.jsx(P,{className:"font-medium text-orange-600",children:Ae(n.remaining_balance)}),l.jsx(P,{children:n.created_by}),l.jsx(P,{children:l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[l.jsx(nl,{className:"h-4 w-4"}),sl(new Date(n.created_at),"MMM dd, yyyy HH:mm")]})}),l.jsx(P,{children:l.jsxs("div",{className:"flex gap-1 flex-wrap",children:[n.member&&n.remaining_balance>0&&l.jsx(E,{size:"sm",variant:"outline",onClick:()=>B(n),className:"bg-blue-50 hover:bg-blue-100 border-blue-200 text-blue-700",children:"ðŸ’° Add Payment"}),l.jsx(E,{size:"sm",variant:"outline",onClick:()=>st(n),className:"bg-orange-50 hover:bg-orange-100 border-orange-200 text-orange-700",children:"âœï¸ Update"}),l.jsx(E,{size:"sm",variant:"outline",onClick:()=>zt(n),className:"bg-red-50 hover:bg-red-100 border-red-200 text-red-700",children:"ðŸ—‘ï¸ Delete"})]})})]},n.id)),e[74]=B,e[75]=s.data,e[76]=r,e[77]=te):te=e[77];let le;e[78]!==te?(le=l.jsx(Jt,{children:te}),e[78]=te,e[79]=le):le=e[79];let se;e[80]!==ee||e[81]!==le?(se=l.jsx(Ft,{children:l.jsx(Pt,{className:"p-0",children:l.jsxs(Wt,{children:[ee,le]})})}),e[80]=ee,e[81]=le,e[82]=se):se=e[82];let ne;e[83]!==s.current_page||e[84]!==s.last_page||e[85]!==s.links||e[86]!==s.per_page||e[87]!==s.total?(ne=s.last_page>1&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(s.current_page-1)*s.per_page+1," to"," ",Math.min(s.current_page*s.per_page,s.total)," of"," ",s.total," results"]}),l.jsx("div",{className:"flex gap-1",children:s.links.map(ol)})]}),e[83]=s.current_page,e[84]=s.last_page,e[85]=s.links,e[86]=s.per_page,e[87]=s.total,e[88]=ne):ne=e[88];let ae;e[89]!==R||e[90]!==Y||e[91]!==se||e[92]!==ne?(ae=l.jsxs("div",{className:"space-y-6 p-6",children:[R,Y,se,ne]}),e[89]=R,e[90]=Y,e[91]=se,e[92]=ne,e[93]=ae):ae=e[93];let Ue;e[94]===Symbol.for("react.memo_cache_sentinel")?(Ue=l.jsx($t,{children:"Add Payment"}),e[94]=Ue):Ue=e[94];const ct=i?.transaction_id;let re;e[95]!==ct?(re=l.jsxs(qt,{children:[Ue,l.jsxs(Mt,{children:["Add a payment to transaction ",ct]})]}),e[95]=ct,e[96]=re):re=e[96];let ie;e[97]!==at?(ie=n=>{n.preventDefault(),at()},e[97]=at,e[98]=ie):ie=e[98];let Ke;e[99]===Symbol.for("react.memo_cache_sentinel")?(Ke=l.jsx(gt,{htmlFor:"amount",children:"Payment Amount (VT)"}),e[99]=Ke):Ke=e[99];const dt=i?.remaining_balance;let oe;e[100]!==a?(oe=n=>a.setData("amount",n.target.value),e[100]=a,e[101]=oe):oe=e[101];let ce;e[102]!==a.data.amount||e[103]!==dt||e[104]!==oe?(ce=l.jsx(yt,{id:"amount",type:"number",step:"0.01",min:"0.01",max:dt,value:a.data.amount,onChange:oe,placeholder:"Enter payment amount",required:!0}),e[102]=a.data.amount,e[103]=dt,e[104]=oe,e[105]=ce):ce=e[105];let de;e[106]!==i?(de=i&&l.jsxs("p",{className:"text-sm text-gray-500",children:["Remaining balance: ",Ae(i.remaining_balance)]}),e[106]=i,e[107]=de):de=e[107];let me;e[108]!==ce||e[109]!==de?(me=l.jsxs("div",{className:"grid gap-2",children:[Ke,ce,de]}),e[108]=ce,e[109]=de,e[110]=me):me=e[110];let Xe;e[111]===Symbol.for("react.memo_cache_sentinel")?(Xe=l.jsx(gt,{htmlFor:"payment_method",children:"Payment Method"}),e[111]=Xe):Xe=e[111];let ue;e[112]!==a?(ue=n=>a.setData("payment_method",n),e[112]=a,e[113]=ue):ue=e[113];let Ge;e[114]===Symbol.for("react.memo_cache_sentinel")?(Ge=l.jsx(At,{children:l.jsx(Dt,{placeholder:"Select payment method"})}),e[114]=Ge):Ge=e[114];let Je;e[115]===Symbol.for("react.memo_cache_sentinel")?(Je=l.jsxs(kt,{children:[l.jsx(_e,{value:"cash",children:"Cash"}),l.jsx(_e,{value:"bank_transfer",children:"Bank Transfer"}),l.jsx(_e,{value:"card",children:"Card"})]}),e[115]=Je):Je=e[115];let he;e[116]!==a.data.payment_method||e[117]!==ue?(he=l.jsxs("div",{className:"grid gap-2",children:[Xe,l.jsxs(Tt,{value:a.data.payment_method,onValueChange:ue,children:[Ge,Je]})]}),e[116]=a.data.payment_method,e[117]=ue,e[118]=he):he=e[118];let We;e[119]===Symbol.for("react.memo_cache_sentinel")?(We=l.jsx(gt,{htmlFor:"notes",children:"Notes (Optional)"}),e[119]=We):We=e[119];let fe;e[120]!==a?(fe=n=>a.setData("notes",n.target.value),e[120]=a,e[121]=fe):fe=e[121];let pe;e[122]!==a.data.notes||e[123]!==fe?(pe=l.jsxs("div",{className:"grid gap-2",children:[We,l.jsx(yt,{id:"notes",value:a.data.notes,onChange:fe,placeholder:"Payment notes"})]}),e[122]=a.data.notes,e[123]=fe,e[124]=pe):pe=e[124];let xe;e[125]!==me||e[126]!==he||e[127]!==pe?(xe=l.jsxs("div",{className:"grid gap-4 py-4",children:[me,he,pe]}),e[125]=me,e[126]=he,e[127]=pe,e[128]=xe):xe=e[128];let Ye;e[129]===Symbol.for("react.memo_cache_sentinel")?(Ye=l.jsx(E,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e[129]=Ye):Ye=e[129];const mt=a.processing?"Adding Payment...":"Add Payment";let ye;e[130]!==a.processing||e[131]!==mt?(ye=l.jsxs(Qt,{children:[Ye,l.jsx(E,{type:"submit",disabled:a.processing,children:mt})]}),e[130]=a.processing,e[131]=mt,e[132]=ye):ye=e[132];let ge;e[133]!==ie||e[134]!==xe||e[135]!==ye?(ge=l.jsxs("form",{onSubmit:ie,children:[xe,ye]}),e[133]=ie,e[134]=xe,e[135]=ye,e[136]=ge):ge=e[136];let be;e[137]!==re||e[138]!==ge?(be=l.jsxs(Lt,{className:"sm:max-w-[425px]",children:[re,ge]}),e[137]=re,e[138]=ge,e[139]=be):be=e[139];let je;e[140]!==N||e[141]!==be?(je=l.jsx(Bt,{open:N,onOpenChange:f,children:be}),e[140]=N,e[141]=be,e[142]=je):je=e[142];let Ze;e[143]===Symbol.for("react.memo_cache_sentinel")?(Ze=()=>{v(!1),g(null)},e[143]=Ze):Ze=e[143];const ut=r.length>0?"Delete Transactions":"Delete Transaction",ht=r.length>0?`Are you sure you want to delete ${r.length} selected transaction(s)? This will cancel the transactions and return all items to inventory. Any payments made will be refunded to the members' balances.`:`Are you sure you want to delete transaction ${i?.transaction_id}? This will cancel the transaction and return all items to inventory. Any payments made will be refunded to the member's balance.`,ft=r.length>0?`${r.length} transaction(s)`:i?.transaction_id;let Se;e[144]!==C.processing||e[145]!==rt||e[146]!==D||e[147]!==ut||e[148]!==ht||e[149]!==ft?(Se=l.jsx(il,{isOpen:D,onClose:Ze,onConfirm:rt,title:ut,description:ht,itemName:ft,isLoading:C.processing}),e[144]=C.processing,e[145]=rt,e[146]=D,e[147]=ut,e[148]=ht,e[149]=ft,e[150]=Se):Se=e[150];let et;return e[151]!==I||e[152]!==ae||e[153]!==je||e[154]!==Se?(et=l.jsxs(el,{breadcrumbs:H,children:[De,I,ae,je,Se]}),e[151]=I,e[152]=ae,e[153]=je,e[154]=Se,e[155]=et):et=e[155],et}function ol(t,e){return t.label==="&laquo; Previous"?t.url?l.jsx(xt,{href:t.url,preserveScroll:!0,children:l.jsx(E,{variant:"outline",size:"sm",children:"Previous"})},e):null:t.label==="Next &raquo;"?t.url?l.jsx(xt,{href:t.url,preserveScroll:!0,children:l.jsx(E,{variant:"outline",size:"sm",children:"Next"})},e):null:t.label==="..."?l.jsx("span",{className:"px-3 py-2",children:"..."},e):l.jsx(xt,{href:t.url||"#",preserveScroll:!0,children:l.jsx(E,{variant:t.active?"default":"outline",size:"sm",disabled:!t.url,children:t.label})},e)}function cl(t){return t.name}function dl(t){return l.jsx(_e,{value:t.id.toString(),children:t.name},t.id)}function ml(t){return{...t,show:!1}}function ul(t){return t>=2e3?"bg-red-100 text-red-800":"text-gray-900"}function hl(t){return`${(typeof t=="string"?parseFloat(t):t).toFixed(2)} VT`}function fl(t){return{...t,show:!1}}function pl(t){return{...t,show:!1}}function xl(t){return{...t,show:!1}}function yl(t){tt.visit(`/pending-sales/${t.id}/edit`)}function gl(t){return t.id}export{Il as default};
